<svg id="background" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="984" height="744" viewBox="0 0 984 744">
  <defs>
    <symbol id="array-5" data-name="array-5" viewBox="0 0 181 37">
      <rect x="0.5" y="0.5" width="180" height="36" rx="6" ry="6" fill="#fff" stroke="#8c8c8c" stroke-miterlimit="10"/>
      <line x1="36.25" y1="36.5" x2="36.25" y2="0.5" fill="none" stroke="#8c8c8c" stroke-miterlimit="10"/>
      <line x1="72.25" y1="36.5" x2="72.25" y2="0.5" fill="none" stroke="#8c8c8c" stroke-miterlimit="10"/>
      <line x1="108.25" y1="36.5" x2="108.25" y2="0.5" fill="none" stroke="#8c8c8c" stroke-miterlimit="10"/>
      <line x1="144.25" y1="36.5" x2="144.25" y2="0.5" fill="none" stroke="#8c8c8c" stroke-miterlimit="10"/>
    </symbol>
    <symbol id="array-1" data-name="array-1" viewBox="0 0 37 37">
      <rect x="0.5" y="0.5" width="36" height="36" rx="6" ry="6" fill="#fff" stroke="#8c8c8c" stroke-miterlimit="10"/>
    </symbol>
    <symbol id="array-3" data-name="array-3" viewBox="0 0 108.5 37">
      <rect x="0.5" y="0.5" width="107.5" height="36" rx="6" ry="6" fill="#fff" stroke="#8c8c8c" stroke-miterlimit="10"/>
      <line x1="36" y1="36.5" x2="36" y2="0.5" fill="none" stroke="#8c8c8c" stroke-miterlimit="10"/>
      <line x1="72" y1="36.5" x2="72" y2="0.5" fill="none" stroke="#8c8c8c" stroke-miterlimit="10"/>
    </symbol>
    <symbol id="array-negative-value" data-name="array-negative-value" viewBox="0 0 36 36">
      <rect width="36" height="36" fill="#0080f7" opacity="0"/>
      <rect x="4.42" y="4.42" width="27.17" height="27.17" rx="6" ry="6" fill="#ff2bb6" opacity="0.8"/>
    </symbol>
    <symbol id="array-positive-value" data-name="array-positive-value" viewBox="0 0 36 36">
      <rect width="36" height="36" fill="#0080f7" opacity="0"/>
      <rect x="4.42" y="4.42" width="27.17" height="27.17" rx="6" ry="6" fill="#0080f7" opacity="0.8"/>
    </symbol>
    <symbol id="array-vector" data-name="array-vector" viewBox="0 0 36 36">
      <rect width="36" height="36" fill="#0080f7" opacity="0"/>
      <g>
        <line x1="18" y1="24" x2="18" y2="13.08" fill="none" stroke="#8c8c8c" stroke-miterlimit="10"/>
        <polygon points="22.09 16.4 21.36 17.08 18 13.47 14.64 17.08 13.91 16.4 18 12 22.09 16.4" fill="#8c8c8c"/>
      </g>
    </symbol>
  </defs>
  <title>rnn</title>
  <g id="_Group_" data-name="&lt;Group&gt;">
    <rect x="822" y="72" width="48" height="48" rx="10" ry="10" opacity="0.04"/>
    <g opacity="0.2">
      <rect x="822" y="72" width="48" height="48" rx="10" ry="10" fill="#ff0"/>
    </g>
  </g>
  <g id="_Group_2" data-name="&lt;Group&gt;">
    <rect x="822" y="336" width="48" height="48" rx="10" ry="10" opacity="0.04"/>
    <g opacity="0.2">
      <rect x="822" y="336" width="48" height="48" rx="10" ry="10" fill="#ff0"/>
    </g>
  </g>
  <g id="_Group_3" data-name="&lt;Group&gt;">
    <rect x="822" y="468" width="120" height="48" rx="10" ry="10" opacity="0.04"/>
    <g opacity="0.2">
      <rect x="822" y="468" width="120" height="48" rx="10" ry="10" fill="#ff0"/>
    </g>
  </g>
  <g>
    <line x1="815.5" x2="816" y2="741" fill="#fff"/>
    <g>
      <line x1="815.5" x2="815.5" y2="1" fill="none" stroke="#aaa" stroke-miterlimit="10"/>
      <line x1="815.5" y1="3" x2="816" y2="739" fill="none" stroke="#aaa" stroke-miterlimit="10" stroke-dasharray="2 2"/>
      <line x1="816" y1="740" x2="816" y2="741" fill="none" stroke="#aaa" stroke-miterlimit="10"/>
    </g>
  </g>
  <g>
    <g opacity="0">
      <g>
        <line x1="665.75" y1="204" x2="665.75" y2="246.92" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
        <path d="M665.75,252.35a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,665.75,252.35Z" fill="#666"/>
      </g>
    </g>
    <g opacity="0.17">
      <g>
        <line x1="665.75" y1="209" x2="665.75" y2="246.92" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
        <path d="M665.75,252.35a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,665.75,252.35Z" fill="#666"/>
      </g>
    </g>
    <g opacity="0.33">
      <g>
        <line x1="665.75" y1="214" x2="665.75" y2="246.92" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
        <path d="M665.75,252.35a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,665.75,252.35Z" fill="#666"/>
      </g>
    </g>
    <g opacity="0.5">
      <g>
        <line x1="665.75" y1="219" x2="665.75" y2="246.92" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
        <path d="M665.75,252.35a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,665.75,252.35Z" fill="#666"/>
      </g>
    </g>
    <g opacity="0.67">
      <g>
        <line x1="665.75" y1="224" x2="665.75" y2="246.92" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
        <path d="M665.75,252.35a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,665.75,252.35Z" fill="#666"/>
      </g>
    </g>
    <g opacity="0.83">
      <g>
        <line x1="665.75" y1="229" x2="665.75" y2="246.92" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
        <path d="M665.75,252.35a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,665.75,252.35Z" fill="#666"/>
      </g>
    </g>
    <g>
      <line x1="665.75" y1="234" x2="665.75" y2="246.92" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M665.75,252.35a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,665.75,252.35Z" fill="#666"/>
    </g>
  </g>
  <g>
    <g>
      <line x1="426" y1="48" x2="426" y2="72.75" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,78.18a27.2,27.2,0,0,0-4.28-7.69L426,72l4.28-1.55A27.17,27.17,0,0,0,426,78.18Z" fill="#666"/>
    </g>
    <g>
      <line x1="827.5" y1="96" x2="479.43" y2="96" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M474,96a27.2,27.2,0,0,0,7.69-4.28L480.14,96l1.55,4.28A27.18,27.18,0,0,0,474,96Z" fill="#666"/>
    </g>
    <g>
      <line x1="827.5" y1="366" x2="479.43" y2="366" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M474,366a27.2,27.2,0,0,0,7.69-4.28L480.14,366l1.55,4.28A27.18,27.18,0,0,0,474,366Z" fill="#666"/>
    </g>
    <g>
      <line x1="827.5" y1="492" x2="479.43" y2="492" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M474,492a27.2,27.2,0,0,0,7.69-4.28L480.14,492l1.55,4.28A27.18,27.18,0,0,0,474,492Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="107.82" x2="426" y2="132.57" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,138a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,426,138Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="179.82" x2="426" y2="204.57" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,210a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.17,27.17,0,0,0,426,210Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="240" x2="426" y2="264.75" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,270.18a27.2,27.2,0,0,0-4.28-7.69L426,264l4.28-1.55A27.18,27.18,0,0,0,426,270.18Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="311.82" x2="426" y2="336.57" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,342a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,426,342Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="371.82" x2="426" y2="396.57" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,402a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,426,402Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="444" x2="426" y2="468.75" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,474.18a27.2,27.2,0,0,0-4.28-7.69L426,468l4.28-1.55A27.18,27.18,0,0,0,426,474.18Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="503.82" x2="426" y2="528.57" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,534a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,426,534Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="576.82" x2="426" y2="601.57" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,607a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,426,607Z" fill="#666"/>
    </g>
    <g>
      <line x1="426" y1="635.82" x2="426" y2="660.57" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M426,666a27.2,27.2,0,0,0-4.28-7.69l4.28,1.55,4.28-1.55A27.18,27.18,0,0,0,426,666Z" fill="#666"/>
    </g>
    <g>
      <path d="M665.75,312v32a10,10,0,0,1-10,10H479.43" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
      <path d="M474,354a27.2,27.2,0,0,0,7.69-4.28L480.14,354l1.55,4.28A27.18,27.18,0,0,0,474,354Z" fill="#666"/>
    </g>
  </g>
  <g>
    <g opacity="0.1">
      <rect x="385" y="614" width="84" height="24" rx="12" ry="12"/>
      <rect x="385" y="614" width="84" height="24" rx="12" ry="12" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
    <g>
      <rect x="384" y="612" width="84" height="24" rx="12" ry="12" fill="#fff"/>
      <rect x="384" y="612" width="84" height="24" rx="12" ry="12" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
  </g>
  <g>
    <g opacity="0.1">
      <rect x="385" y="482" width="84" height="24" rx="12" ry="12"/>
      <rect x="385" y="482" width="84" height="24" rx="12" ry="12" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
    <g>
      <rect x="384" y="480" width="84" height="24" rx="12" ry="12" fill="#fff"/>
      <rect x="384" y="480" width="84" height="24" rx="12" ry="12" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
  </g>
  <g>
    <g opacity="0.1">
      <rect x="385" y="350" width="84" height="24" rx="12" ry="12"/>
      <rect x="385" y="350" width="84" height="24" rx="12" ry="12" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
    <g>
      <rect x="384" y="348" width="84" height="24" rx="12" ry="12" fill="#fff"/>
      <rect x="384" y="348" width="84" height="24" rx="12" ry="12" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
  </g>
  <g>
    <g opacity="0.1">
      <rect x="385" y="218" width="84" height="24" rx="12" ry="12"/>
      <rect x="385" y="218" width="84" height="24" rx="12" ry="12" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
    <g>
      <rect x="384" y="216" width="84" height="24" rx="12" ry="12" fill="#fff"/>
      <rect x="384" y="216" width="84" height="24" rx="12" ry="12" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
  </g>
  <g>
    <g opacity="0.1">
      <rect x="385" y="86" width="84" height="24" rx="12" ry="12"/>
      <rect x="385" y="86" width="84" height="24" rx="12" ry="12" fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
    <g>
      <rect x="384" y="84" width="84" height="24" rx="12" ry="12" fill="#fff"/>
      <rect x="384" y="84" width="84" height="24" rx="12" ry="12" fill="none" stroke="#666" stroke-miterlimit="10" stroke-width="1.5"/>
    </g>
  </g>
  <use id="array-5-3" data-name="array-5" width="181" height="37" transform="translate(335.25 275)" xlink:href="#array-5"/>
  <use width="181" height="37" transform="translate(575 276)" xlink:href="#array-5"/>
  <use width="181" height="37" transform="translate(335.25 407)" xlink:href="#array-5"/>
  <use width="181" height="37" transform="translate(335.25 540)" xlink:href="#array-5"/>
  <use width="181" height="37" transform="translate(335.25 671)" xlink:href="#array-5"/>
  <use width="37" height="37" transform="translate(827.5 342)" xlink:href="#array-1"/>
  <use id="array-3-3" data-name="array-3" width="108.5" height="37" transform="translate(827.5 473)" xlink:href="#array-3"/>
  <use width="181" height="37" transform="translate(335.25 143)" xlink:href="#array-5"/>
  <g id="dot">
    <use width="36" height="36" transform="translate(336 143.25)" xlink:href="#array-negative-value"/>
    <use width="36" height="36" transform="translate(372 143)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(408 143)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(444 143)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(480 143)" xlink:href="#array-positive-value"/>
  </g>
  <use width="181" height="37" transform="translate(335.25 12)" xlink:href="#array-5"/>
  <g id="softmax">
    <use width="36" height="36" transform="translate(336 276)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(372 276)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(408 276)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(444 276)" xlink:href="#array-positive-value"/>
    <use id="array-positive-value-19" data-name="array-positive-value" width="36" height="36" transform="translate(480 276)" xlink:href="#array-positive-value"/>
  </g>
  <g id="shift">
    <use width="36" height="36" transform="translate(828 474)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(864 474)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(900 474)" xlink:href="#array-positive-value"/>
  </g>
  <use id="interpolate-amount" width="36" height="36" transform="translate(828 342)" xlink:href="#array-positive-value"/>
  <g id="previous">
    <use width="36" height="36" transform="translate(575.75 276)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(611.75 276)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(647.75 276)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(683.75 276)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(719.75 276)" xlink:href="#array-positive-value"/>
  </g>
  <g id="interpolate">
    <use width="36" height="36" transform="translate(336 407)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(372 407)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(408 407)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(444 407)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(480 407)" xlink:href="#array-positive-value"/>
  </g>
  <g id="convolve">
    <use width="36" height="36" transform="translate(335.5 541)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(372 541)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(408 541)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(444 541)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(480 541)" xlink:href="#array-positive-value"/>
  </g>
  <g id="new-attention">
    <use width="36" height="36" transform="translate(336 671)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(372 671)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(408 671)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(444 671)" xlink:href="#array-positive-value"/>
    <use width="36" height="36" transform="translate(480 671)" xlink:href="#array-positive-value"/>
  </g>
  <use width="37" height="37" transform="translate(827.5 77)" xlink:href="#array-1"/>
  <text transform="translate(168 81.12)" font-size="12" fill="#666" font-family="Open Sans">First, the controller gives <tspan x="0" y="18">a query vector and each </tspan><tspan x="0" y="36">memory entry is scored </tspan><tspan x="0" y="54">for similarity with the </tspan><tspan x="0" y="72">query.</tspan></text>
  <text transform="translate(169.5 212.12)" font-size="12" fill="#666" font-family="Open Sans">The scores are then <tspan x="0" y="18">converted into a </tspan><tspan x="0" y="36">distribution using </tspan><tspan x="0" y="54">softmax.</tspan></text>
  <text transform="translate(169.5 345.12)" font-size="12" fill="#666" font-family="Open Sans">Next, we interpolate the <tspan x="0" y="18">attention from the </tspan><tspan x="0" y="36">previous time step. </tspan></text>
  <text transform="translate(169.5 477.12)" font-size="12" fill="#666" font-family="Open Sans">We convolve the <tspan x="0" y="18">attention with a shift </tspan><tspan x="0" y="36">filter â€” this allows the </tspan><tspan x="0" y="54">controller to move its </tspan><tspan x="0" y="72">focus.</tspan></text>
  <text transform="translate(169.5 610.12)" font-size="12" fill="#666" font-family="Open Sans">Finally, we sharpen the <tspan x="0" y="18">attention distribution. </tspan><tspan x="0" y="36">This final attention </tspan><tspan x="0" y="54">distribution is fed to the </tspan><tspan x="0" y="72">read or write operation.</tspan></text>
  <text transform="translate(396.43 363)" font-size="11" fill="#666" font-family="Open Sans" font-weight="700">interpolate</text>
  <text transform="translate(402.48 495)" font-size="11" fill="#666" font-family="Open Sans" font-weight="700">convolve</text>
  <text transform="translate(404.18 627)" font-size="11" fill="#666" font-family="Open Sans" font-weight="700">sharpen</text>
  <text transform="translate(404.33 231)" font-size="11" fill="#666" font-family="Open Sans" font-weight="700">softmax</text>
  <text transform="translate(394.66 99.17)" font-size="11" fill="#666" font-family="Open Sans" font-weight="700">dot product</text>
  <use id="query" width="36" height="36" transform="translate(828 78)" xlink:href="#array-vector"/>
  <g id="memory">
    <use width="36" height="36" transform="translate(336 12)" xlink:href="#array-vector"/>
    <use width="36" height="36" transform="translate(372 12)" xlink:href="#array-vector"/>
    <use width="36" height="36" transform="translate(408 12)" xlink:href="#array-vector"/>
    <use width="36" height="36" transform="translate(444 12)" xlink:href="#array-vector"/>
    <use width="36" height="36" transform="translate(480 12)" xlink:href="#array-vector"/>
  </g>
  <text transform="translate(528.38 33)" font-size="12" fill="#666" font-family="Open Sans">memory</text>
  <text transform="translate(529.5 155.77)" font-size="12" fill="#666" font-family="Open Sans">Blue shows high similarity, <tspan x="0" y="18">pink high dissimilarity.</tspan></text>
  <text transform="translate(827.5 328)" font-size="12" fill="#666" font-family="Open Sans">interpolation amount</text>
  <text transform="translate(827.5 460)" font-size="12" fill="#666" font-family="Open Sans">shift filter</text>
  <text transform="translate(827.5 12)" font-size="12" fill="#666" font-family="Open Sans">RNN controller</text>
  <text transform="translate(683.32 12)" font-size="12" fill="#666" font-family="Open Sans">attention mechanism</text>
  <text transform="translate(827.5 64)" font-size="12" fill="#666" font-family="Open Sans">query vector</text>
  <text transform="translate(586.11 270)" font-size="12" fill="#666" font-family="Open Sans">attention from previous step</text>
  <text transform="translate(359.23 726)" font-size="11" font-family="Open Sans">new attention distribution</text>
  <circle id="query-hover" cx="845.37" cy="95.44" r="87.04" fill="#fff" fill-opacity="0"/>
  <circle id="interpolate-hover" cx="845.37" cy="357.04" r="41.37" fill="#fff" fill-opacity="0"/>
  <rect id="shift-hover" x="798" y="450" width="168" height="84" fill="#fff" fill-opacity="0"/>
</svg>
